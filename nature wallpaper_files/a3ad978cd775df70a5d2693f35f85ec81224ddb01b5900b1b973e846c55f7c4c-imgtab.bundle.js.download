var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(i)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l;function c(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function u(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function d(t,e,n){t.$$.on_destroy.push(u(e,n))}function h(t,e,n){return t.set(n),e}const p="undefined"!=typeof window;let f=p?()=>window.performance.now():()=>Date.now(),g=p?t=>requestAnimationFrame(t):t;const m=new Set;function w(t){m.forEach((e=>{e.c(t)||(m.delete(e),e.f())})),0!==m.size&&g(w)}function v(t){let e;return 0===m.size&&g(w),{promise:new Promise((n=>{m.add(e={c:t,f:n})})),abort(){m.delete(e)}}}function y(t,e){t.appendChild(e)}function b(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function $(t){const e=_("style");return function(t,e){y(t.head||t,e)}(b(t),e),e.sheet}function x(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function R(t){return document.createTextNode(t)}function S(){return R(" ")}function L(){return R("")}function E(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function H(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function I(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e,n,i){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function N(t,e,n=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,!1,e),i}class C{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=_(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)x(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(k)}}const A=new Map;let P,M=0;function z(t,e,n,i,o,s,r,a=0){const l=16.666/i;let c="{\n";for(let t=0;t<=1;t+=l){const i=e+(n-e)*s(t);c+=100*t+`%{${r(i,1-i)}}\n`}const u=c+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,h=b(t),{stylesheet:p,rules:f}=A.get(h)||function(t,e){const n={stylesheet:$(e),rules:{}};return A.set(t,n),n}(h,t);f[d]||(f[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${i}ms linear ${o}ms 1 both`,M+=1,d}function j(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-i.length;o&&(t.style.animation=i.join(", "),M-=o,M||g((()=>{M||(A.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),A.clear())})))}function q(t){P=t}function B(){if(!P)throw new Error("Function called outside component initialization");return P}function V(t){B().$$.on_mount.push(t)}function O(t){B().$$.after_update.push(t)}function D(){const t=B();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const o=N(e,n);i.slice().forEach((e=>{e.call(t,o)}))}}}const F=[],W=[],U=[],Y=[],G=Promise.resolve();let X=!1;function J(t){U.push(t)}function K(t){Y.push(t)}const Q=new Set;let Z,tt=0;function et(){const t=P;do{for(;tt<F.length;){const t=F[tt];tt++,q(t),nt(t.$$)}for(q(null),F.length=0,tt=0;W.length;)W.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];Q.has(e)||(Q.add(e),e())}U.length=0}while(F.length);for(;Y.length;)Y.pop()();X=!1,Q.clear(),q(t)}function nt(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}function it(t,e,n){t.dispatchEvent(N(`${e?"intro":"outro"}${n}`))}const ot=new Set;let st;function rt(){st={r:0,c:[],p:st}}function at(){st.r||s(st.c),st=st.p}function lt(t,e){t&&t.i&&(ot.delete(t),t.i(e))}function ct(t,e,n,i){if(t&&t.o){if(ot.has(t))return;ot.add(t),st.c.push((()=>{ot.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}const ut={duration:0};function dt(n,i,o){let a,l=i(n,o),c=!0;const u=st;function d(){const{delay:i=0,duration:o=300,easing:r=e,tick:d=t,css:h}=l||ut;h&&(a=z(n,1,0,o,i,r,h));const p=f()+i,g=p+o;J((()=>it(n,!1,"start"))),v((t=>{if(c){if(t>=g)return d(0,1),it(n,!1,"end"),--u.r||s(u.c),!1;if(t>=p){const e=r((t-p)/o);d(1-e,e)}}return c}))}return u.r+=1,r(l)?(Z||(Z=Promise.resolve(),Z.then((()=>{Z=null}))),Z).then((()=>{l=l(),d()})):d(),{end(t){t&&l.tick&&l.tick(1,0),c&&(a&&j(n,a),c=!1)}}}const ht="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function pt(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function ft(t){t&&t.c()}function gt(t,e,n,o){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=t.$$;a&&a.m(e,n),o||J((()=>{const e=l.map(i).filter(r);c?c.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(J)}function mt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function wt(t,e){-1===t.$$.dirty[0]&&(F.push(t),X||(X=!0,G.then(et)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function vt(e,n,i,r,a,l,c,u=[-1]){const d=P;q(e);const h=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(h.root);let p=!1;if(h.ctx=i?i(e,n.props||{},((t,n,...i)=>{const o=i.length?i[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),p&&wt(e,t)),n})):[],h.update(),p=!0,s(h.before_update),h.fragment=!!r&&r(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(k)}else h.fragment&&h.fragment.c();n.intro&&lt(e.$$.fragment),gt(e,n.target,n.anchor,n.customElement),et()}q(d)}class yt{$destroy(){mt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var bt={exports:{}};
/*!
     * Copyright 2019 SmugMug, Inc.
     * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
     * @license
     */(bt.exports=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight,this.widowLayoutStyle=t.widowLayoutStyle,this.isBreakoutRow=t.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(t){var e,n,i,o=this.items.concat(t),s=this.width-(o.length-1)*this.spacing,r=o.reduce((function(t,e){return t+e.aspectRatio}),0),a=s/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&t.aspectRatio>=1?(this.items.push(t),this.completeLayout(s/t.aspectRatio,"justify"),!0):r<this.minAspectRatio?(this.items.push(Object.assign({},t)),!0):r>this.maxAspectRatio?0===this.items.length?(this.items.push(Object.assign({},t)),this.completeLayout(s/r,"justify"),!0):(e=this.width-(this.items.length-1)*this.spacing,n=this.items.reduce((function(t,e){return t+e.aspectRatio}),0),i=e/this.targetRowHeight,Math.abs(r-a)>Math.abs(n-i)?(this.completeLayout(e/n,"justify"),!1):(this.items.push(Object.assign({},t)),this.completeLayout(s/r,"justify"),!0)):(this.items.push(Object.assign({},t)),this.completeLayout(s/r,"justify"),!0)},isLayoutComplete:function(){return this.height>0},completeLayout:function(t,e){var n,i,o,s,r,a=this.left,l=this.width-(this.items.length-1)*this.spacing;(void 0===e||["justify","center","left"].indexOf(e)<0)&&(e="left"),t!==(i=Math.max(this.edgeCaseMinRowHeight,Math.min(t,this.edgeCaseMaxRowHeight)))?(this.height=i,n=l/i/(l/t)):(this.height=t,n=1),this.items.forEach((function(t){t.top=this.top,t.width=t.aspectRatio*this.height*n,t.height=this.height,t.left=a,a+=t.width+this.spacing}),this),"justify"===e?(a-=this.spacing+this.left,o=(a-this.width)/this.items.length,s=this.items.map((function(t,e){return Math.round((e+1)*o)})),1===this.items.length?this.items[0].width-=Math.round(o):this.items.forEach((function(t,e){e>0?(t.left-=s[e-1],t.width-=s[e]-s[e-1]):t.width-=s[e]}))):"center"===e&&(r=(this.width-a)/2,this.items.forEach((function(t){t.left+=r+this.spacing}),this))},forceComplete:function(t,e){"number"==typeof e?this.completeLayout(e,this.widowLayoutStyle):this.completeLayout(this.targetRowHeight,this.widowLayoutStyle)},getItems:function(){return this.items}};
/*!
     * Copyright 2019 SmugMug, Inc.
     * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
     * @license
     */
var $t=bt.exports;function xt(t,e){var n;return!1!==t.fullWidthBreakoutRowCadence&&(e._rows.length+1)%t.fullWidthBreakoutRowCadence==0&&(n=!0),new $t({top:e._containerHeight,left:t.containerPadding.left,width:t.containerWidth-t.containerPadding.left-t.containerPadding.right,spacing:t.boxSpacing.horizontal,targetRowHeight:t.targetRowHeight,targetRowHeightTolerance:t.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*t.targetRowHeight,edgeCaseMaxRowHeight:2*t.targetRowHeight,rightToLeft:!1,isBreakoutRow:n,widowLayoutStyle:t.widowLayoutStyle})}function kt(t,e,n){return e._rows.push(n),e._layoutItems=e._layoutItems.concat(n.getItems()),e._containerHeight+=n.height+t.boxSpacing.vertical,n.items}var _t=function(t,e){var n={},i={},o={containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1,widowLayoutStyle:"left"},s={},r={};return e=e||{},n=Object.assign(o,e),s.top=isNaN(parseFloat(n.containerPadding.top))?n.containerPadding:n.containerPadding.top,s.right=isNaN(parseFloat(n.containerPadding.right))?n.containerPadding:n.containerPadding.right,s.bottom=isNaN(parseFloat(n.containerPadding.bottom))?n.containerPadding:n.containerPadding.bottom,s.left=isNaN(parseFloat(n.containerPadding.left))?n.containerPadding:n.containerPadding.left,r.horizontal=isNaN(parseFloat(n.boxSpacing.horizontal))?n.boxSpacing:n.boxSpacing.horizontal,r.vertical=isNaN(parseFloat(n.boxSpacing.vertical))?n.boxSpacing:n.boxSpacing.vertical,n.containerPadding=s,n.boxSpacing=r,i._layoutItems=[],i._awakeItems=[],i._inViewportItems=[],i._leadingOrphans=[],i._trailingOrphans=[],i._containerHeight=n.containerPadding.top,i._rows=[],i._orphans=[],n._widowCount=0,function(t,e,n){var i,o,s,r=[];return t.forceAspectRatio&&n.forEach((function(e){e.forcedAspectRatio=!0,e.aspectRatio=t.forceAspectRatio})),n.some((function(n,s){if(isNaN(n.aspectRatio))throw new Error("Item "+s+" has an invalid aspect ratio");if(o||(o=xt(t,e)),i=o.addItem(n),o.isLayoutComplete()){if(r=r.concat(kt(t,e,o)),e._rows.length>=t.maxNumRows)return o=null,!0;if(o=xt(t,e),!i&&(i=o.addItem(n),o.isLayoutComplete())){if(r=r.concat(kt(t,e,o)),e._rows.length>=t.maxNumRows)return o=null,!0;o=xt(t,e)}}})),o&&o.getItems().length&&t.showWidows&&(e._rows.length?(s=e._rows[e._rows.length-1].isBreakoutRow?e._rows[e._rows.length-1].targetRowHeight:e._rows[e._rows.length-1].height,o.forceComplete(!1,s)):o.forceComplete(!1),r=r.concat(kt(t,e,o)),t._widowCount=o.getItems().length),e._containerHeight=e._containerHeight-t.boxSpacing.vertical,e._containerHeight=e._containerHeight+t.containerPadding.bottom,{containerHeight:e._containerHeight,widowCount:t._widowCount,boxes:e._layoutItems}}(n,i,t.map((function(t){return t.width&&t.height?{aspectRatio:t.width/t.height}:{aspectRatio:t}})))};function Rt(t){let e;return{c(){e=_("div"),H(e,"class","selected svelte-qd248k")},m(t,n){x(t,e,n)},d(t){t&&k(e)}}}function St(e){let n,i,o,s,r,a,l,u,d,h,p=e[4]&&Rt();return{c(){n=_("div"),i=_("div"),o=_("img"),r=S(),a=_("div"),l=R(e[2]),u=R(" × "),d=R(e[3]),h=S(),p&&p.c(),H(o,"class","image svelte-qd248k"),H(o,"loading","lazy"),c(o.src,s=e[0])||H(o,"src",s),H(o,"alt",e[1]),H(a,"class","dimensions svelte-qd248k"),H(i,"class","img-wrapper svelte-qd248k"),T(i,"background-color",e[5]),T(i,"height","100%"),H(n,"class","image-container svelte-qd248k")},m(t,e){x(t,n,e),y(n,i),y(i,o),y(i,r),y(i,a),y(a,l),y(a,u),y(a,d),y(i,h),p&&p.m(i,null)},p(t,[e]){1&e&&!c(o.src,s=t[0])&&H(o,"src",s),2&e&&H(o,"alt",t[1]),4&e&&I(l,t[2]),8&e&&I(d,t[3]),t[4]?p||(p=Rt(),p.c(),p.m(i,null)):p&&(p.d(1),p=null),32&e&&T(i,"background-color",t[5])},i:t,o:t,d(t){t&&k(n),p&&p.d()}}}function Lt(t,e,n){let{src:i}=e,{alt:o=""}=e,{width:s="440"}=e,{height:r="1200"}=e,{selected:a=!1}=e,{bg_color:l}=e;return t.$$set=t=>{"src"in t&&n(0,i=t.src),"alt"in t&&n(1,o=t.alt),"width"in t&&n(2,s=t.width),"height"in t&&n(3,r=t.height),"selected"in t&&n(4,a=t.selected),"bg_color"in t&&n(5,l=t.bg_color)},[i,o,s,r,a,l]}class Et extends yt{constructor(t){super(),vt(this,t,Lt,St,a,{src:0,alt:1,width:2,height:3,selected:4,bg_color:5})}}function Ht(){if(document.cookie){let t=document.cookie.split(";").map((t=>t.trim())).map((t=>t.split("=")));const e={};for(let n=0;n<t.length;n+=1){let[i,o]=t[n];e[i]=o}return e}return{}}function It(t,e,n,i=!1){if(e&&e.length>100)return;let o="";if(n){const t=new Date;t.setTime(t.getTime()+24*n*60*60*1e3),o=`; expires=${t.toUTCString()}`}else o=i?"":"; expires=Tue, 19 Jan 2038 03:14:07 GMT";document.cookie=`${t}=${e}${o}; secure; path=/; SameSite=Lax`}(()=>{if("undefined"==typeof window)return{};const t=window?.document?.getElementById("js-shared")?.getAttribute("data");if(!t)return{};try{JSON.parse(t)}catch(t){return{}}})();const Tt={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"};function Nt(t){return String(t).replace(/["'&<>]/g,(t=>Tt[t]))}function Ct(){return"1"===Ht().olnt}const At={};function Pt(t){let e,n,i,o,r,a;return{c(){e=_("div"),n=_("img"),H(n,"class",i="img "+(t[3]?"is-loaded":"")+" svelte-z7sgic"),T(n,"will-change","opacity"),c(n.src,o=t[5])||H(n,"src",o),H(n,"alt",t[6]),H(e,"class","holder svelte-z7sgic"),T(e,"background-image","url("+t[7]+")"),T(e,"width",t[0].properties.width+"px"),T(e,"height",t[0].properties.height+"px")},m(i,o){x(i,e,o),y(e,n),t[11](n),r||(a=[E(n,"load",t[8]),E(n,"error",t[9])],r=!0)},p(t,s){8&s&&i!==(i="img "+(t[3]?"is-loaded":"")+" svelte-z7sgic")&&H(n,"class",i),32&s&&!c(n.src,o=t[5])&&H(n,"src",o),64&s&&H(n,"alt",t[6]),128&s&&T(e,"background-image","url("+t[7]+")"),1&s&&T(e,"width",t[0].properties.width+"px"),1&s&&T(e,"height",t[0].properties.height+"px")},d(n){n&&k(e),t[11](null),r=!1,s(a)}}}function Mt(e){let n,i=e[4]&&Pt(e);return{c(){n=_("div"),i&&i.c(),H(n,"class","image-wrapper svelte-z7sgic")},m(t,o){x(t,n,o),i&&i.m(n,null),e[12](n)},p(t,[e]){t[4]?i?i.p(t,e):(i=Pt(t),i.c(),i.m(n,null)):i&&(i.d(1),i=null)},i:t,o:t,d(t){t&&k(n),i&&i.d(),e[12](null)}}}function zt(t,e,n){let i,o,s,r;let a,{image:l}=e,{shouldDelayLoad:c=!0}=e,u=!1,d=!0;return At[o]&&(u=!0,d=!0),V((()=>{if(u||!c)return;const t=function(t,e,{delay:n=300}={}){let i=!0,o=0,s=null;const r=new IntersectionObserver(((t,r)=>{const{time:a,isIntersecting:l}=t[0],c=()=>{e({isVisibleOnInit:i,entry:t[0]})};l&&(i?(r.disconnect(),c()):s=setTimeout((()=>{o===a&&(r.disconnect(),c())}),n)),o=a,i=!1}));return r.observe(t),()=>{clearTimeout(s),r.disconnect()}}(a,(()=>{n(4,d=!0)}));return()=>{t()}})),t.$$set=t=>{"image"in t&&n(0,l=t.image),"shouldDelayLoad"in t&&n(10,c=t.shouldDelayLoad)},t.$$.update=()=>{1&t.$$.dirty&&n(7,i=l?l.thumbnail.src:""),1&t.$$.dirty&&n(5,o=l?l.properties.resized:""),1&t.$$.dirty&&n(6,s=l.title)},[l,r,a,u,d,o,s,i,function(){At[o]=!0,n(3,u=!0),r.style.removeProperty("will-change")},function(t){At[t]=!1,n(3,u=!1)},c,function(t){W[t?"unshift":"push"]((()=>{r=t,n(1,r)}))},function(t){W[t?"unshift":"push"]((()=>{a=t,n(2,a)}))}]}class jt extends yt{constructor(t){super(),vt(this,t,zt,Mt,a,{image:0,shouldDelayLoad:10})}}var qt='<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" d="M12.232 1.844A1.08 1.08 0 0010.704.316L6.548 4.472 2.393.317A1.08 1.08 0 00.865 1.845L5.02 6 .865 10.155a1.08 1.08 0 101.528 1.528l4.155-4.155 4.156 4.156a1.08 1.08 0 101.528-1.528L8.076 6l4.156-4.156z" clip-rule="evenodd"/></svg>';function Bt(t){let e,n,i,o,r,a,l,c,u,d,h,p,f,g,m,w,v,b,$,L,N,C,A,P,M,z,j,q,B,V,O,D,F,W,U,Y,G,X,J,K=t[0].title+"",Q=t[0].properties.width+"",Z=t[0].properties.height+"",tt=t[3]["View file"]+"",et=t[4]&&Vt(t);return{c(){e=_("div"),n=_("div"),i=_("div"),et&&et.c(),o=S(),r=_("div"),a=_("div"),l=_("a"),c=R(K),h=S(),p=_("a"),f=R(t[5]),w=S(),v=_("p"),b=R(Q),$=R(" × "),L=R(Z),N=S(),C=_("a"),A=R(tt),z=S(),j=_("div"),q=_("div"),B=_("div"),V=_("span"),O=S(),D=_("div"),F=_("span"),W=S(),U=_("div"),Y=_("span"),H(i,"class","image svelte-c04oor"),H(l,"class","h5 svelte-c04oor"),H(l,"href",u=t[0].url),H(l,"target",d=!0===t[6]?"_blank":"_self"),H(a,"class","mb-15"),H(p,"href",g="//"+t[5]),H(p,"class","text-sm svelte-c04oor"),H(p,"target",m=!0===t[6]?"_blank":"_self"),H(v,"class","text-sm text-gray"),H(C,"class","btn svelte-c04oor"),H(C,"href",P=t[0].properties.url),H(C,"target",M=!0===t[6]?"_blank":"_self"),H(r,"class","image-details svelte-c04oor"),H(n,"class","image-viewer svelte-c04oor"),H(V,"class","icon-wrapper"),H(B,"class","btn-round mr-5 svelte-c04oor"),H(F,"class","icon-wrapper"),H(D,"class","btn-round svelte-c04oor"),H(q,"class","navigate svelte-c04oor"),H(Y,"class","icon-wrapper"),H(U,"class","btn-round svelte-c04oor"),H(j,"class","controls svelte-c04oor"),H(e,"class","wrapper svelte-c04oor"),T(e,"top",t[2]+"px")},m(s,u){x(s,e,u),y(e,n),y(n,i),et&&et.m(i,null),y(n,o),y(n,r),y(r,a),y(a,l),y(l,c),y(r,h),y(r,p),y(p,f),y(r,w),y(r,v),y(v,b),y(v,$),y(v,L),y(r,N),y(r,C),y(C,A),y(e,z),y(e,j),y(j,q),y(q,B),y(B,V),V.innerHTML='<svg class="icon" width="8" height="15" viewBox="0 0 8 15" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M.8 8.029a1.2 1.2 0 010-1.68L6.527.509a.8.8 0 011.142 1.12l-5.45 5.56 5.45 5.56a.8.8 0 11-1.142 1.12L.8 8.028z"/></svg>',y(q,O),y(q,D),y(D,F),F.innerHTML='<svg class="icon" width="9" height="15" viewBox="0 0 9 15" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.73 6.349a1.2 1.2 0 010 1.68l-5.725 5.84a.8.8 0 01-1.143-1.12l5.451-5.56-5.45-5.56A.8.8 0 112.004.51L7.73 6.35z"/></svg>',y(j,W),y(j,U),y(U,Y),Y.innerHTML=qt,G=!0,X||(J=[E(B,"click",t[8]),E(D,"click",t[9]),E(U,"click",t[7])],X=!0)},p(t,n){t[4]?et?(et.p(t,n),16&n&&lt(et,1)):(et=Vt(t),et.c(),lt(et,1),et.m(i,null)):et&&(rt(),ct(et,1,1,(()=>{et=null})),at()),(!G||1&n)&&K!==(K=t[0].title+"")&&I(c,K),(!G||1&n&&u!==(u=t[0].url))&&H(l,"href",u),(!G||32&n)&&I(f,t[5]),(!G||32&n&&g!==(g="//"+t[5]))&&H(p,"href",g),(!G||1&n)&&Q!==(Q=t[0].properties.width+"")&&I(b,Q),(!G||1&n)&&Z!==(Z=t[0].properties.height+"")&&I(L,Z),(!G||8&n)&&tt!==(tt=t[3]["View file"]+"")&&I(A,tt),(!G||1&n&&P!==(P=t[0].properties.url))&&H(C,"href",P),(!G||4&n)&&T(e,"top",t[2]+"px")},i(t){G||(lt(et),G=!0)},o(t){ct(et),G=!1},d(t){t&&k(e),et&&et.d(),X=!1,s(J)}}}function Vt(t){let e,n,i;function o(e){t[11](e)}let s={};return void 0!==t[0]&&(s.image=t[0]),e=new jt({props:s}),W.push((()=>pt(e,"image",o))),{c(){ft(e.$$.fragment)},m(t,n){gt(e,t,n),i=!0},p(t,i){const o={};!n&&1&i&&(n=!0,o.image=t[0],K((()=>n=!1))),e.$set(o)},i(t){i||(lt(e.$$.fragment,t),i=!0)},o(t){ct(e.$$.fragment,t),i=!1},d(t){mt(e,t)}}}function Ot(t){let e,n,i=t[1]&&Bt(t);return{c(){i&&i.c(),e=L()},m(t,o){i&&i.m(t,o),x(t,e,o),n=!0},p(t,[n]){t[1]?i?(i.p(t,n),2&n&&lt(i,1)):(i=Bt(t),i.c(),lt(i,1),i.m(e.parentNode,e)):i&&(rt(),ct(i,1,1,(()=>{i=null})),at())},i(t){n||(lt(i),n=!0)},o(t){ct(i),n=!1},d(t){i&&i.d(t),t&&k(e)}}}function Dt(t,e,n){let i,o;const s=D();let{image:r={}}=e,{isVisible:a=!1}=e,{top:l=0}=e,{i18n:c={}}=e,u=Ct(),d=!1,h=!1;var p;return p=()=>{d?setTimeout((()=>{d=!1}),200):n(4,h=!1)},B().$$.before_update.push(p),O((()=>{d=!0,n(4,h=!0)})),t.$$set=t=>{"image"in t&&n(0,r=t.image),"isVisible"in t&&n(1,a=t.isVisible),"top"in t&&n(2,l=t.top),"i18n"in t&&n(3,c=t.i18n)},t.$$.update=()=>{1&t.$$.dirty&&n(10,i=new URL(r.url)),1024&t.$$.dirty&&n(5,o=i.hostname)},[r,a,l,c,h,o,u,()=>{s("viewer_hidden")},()=>{s("previous")},()=>{s("next")},i,function(t){r=t,n(0,r)}]}class Ft extends yt{constructor(t){super(),vt(this,t,Dt,Ot,a,{image:0,isVisible:1,top:2,i18n:3})}}const Wt=[];function Ut(e,n=t){let i;const o=new Set;function s(t){if(a(e,t)&&(e=t,i)){const t=!Wt.length;for(const t of o)t[1](),Wt.push(t,e);if(t){for(let t=0;t<Wt.length;t+=2)Wt[t][0](Wt[t+1]);Wt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(r,a=t){const l=[r,a];return o.add(l),1===o.size&&(i=n(s)||t),r(e),()=>{o.delete(l),0===o.size&&(i(),i=null)}}}}function Yt(t){const e=t-1;return e*e*e+1}function Gt(t){return"[object Date]"===Object.prototype.toString.call(t)}function Xt(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Xt(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(Gt(t)&&Gt(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),i={};return n.forEach((n=>{i[n]=Xt(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=i[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Jt(t,i={}){const o=Ut(t);let s,r=t;function a(a,l){if(null==t)return o.set(t=a),Promise.resolve();r=a;let c=s,u=!1,{delay:d=0,duration:h=400,easing:p=e,interpolate:g=Xt}=n(n({},i),l);if(0===h)return c&&(c.abort(),c=null),o.set(t=r),Promise.resolve();const m=f()+d;let w;return s=v((e=>{if(e<m)return!0;u||(w=g(t,a),"function"==typeof h&&(h=h(t,a)),u=!0),c&&(c.abort(),c=null);const n=e-m;return n>h?(o.set(t=a),!1):(o.set(t=w(p(n/h))),!0)})),s.promise}return{set:a,update:(e,n)=>a(e(r,t),n),subscribe:o.subscribe}}function Kt(t){let e,n,i,o,s,r,a,l,c,u,d,h,p,f,g,m,w,v,b,$=t[0].source+"",L=t[1]["View file"]+"";function E(e){t[3](e)}let T={shouldDelayLoad:!1};void 0!==t[0]&&(T.image=t[0]),i=new jt({props:T}),W.push((()=>pt(i,"image",E)));let N=t[0].properties&&Qt(t);return{c(){e=_("div"),n=_("div"),ft(i.$$.fragment),s=S(),r=_("div"),a=_("div"),l=_("a"),c=R($),h=S(),p=_("p"),N&&N.c(),f=S(),g=_("a"),m=R(L),H(n,"class","image svelte-rhmndl"),H(e,"class","image-wrapper svelte-rhmndl"),H(l,"href",u=t[0].url),H(l,"target",d=!0===t[2]?"_blank":"_self"),H(l,"class","svelte-rhmndl"),H(p,"class","text-sm svelte-rhmndl"),H(a,"class","left svelte-rhmndl"),H(g,"class","btn text-sm svelte-rhmndl"),H(g,"href",w=t[0].properties.url),H(g,"target",v=!0===t[2]?"_blank":"_self"),H(r,"class","image-details svelte-rhmndl")},m(t,o){x(t,e,o),y(e,n),gt(i,n,null),x(t,s,o),x(t,r,o),y(r,a),y(a,l),y(l,c),y(a,h),y(a,p),N&&N.m(p,null),y(r,f),y(r,g),y(g,m),b=!0},p(t,e){const n={};!o&&1&e&&(o=!0,n.image=t[0],K((()=>o=!1))),i.$set(n),(!b||1&e)&&$!==($=t[0].source+"")&&I(c,$),(!b||1&e&&u!==(u=t[0].url))&&H(l,"href",u),t[0].properties?N?N.p(t,e):(N=Qt(t),N.c(),N.m(p,null)):N&&(N.d(1),N=null),(!b||2&e)&&L!==(L=t[1]["View file"]+"")&&I(m,L),(!b||1&e&&w!==(w=t[0].properties.url))&&H(g,"href",w)},i(t){b||(lt(i.$$.fragment,t),b=!0)},o(t){ct(i.$$.fragment,t),b=!1},d(t){t&&k(e),mt(i),t&&k(s),t&&k(r),N&&N.d()}}}function Qt(t){let e,n,i,o=t[0].properties.width+"",s=t[0].properties.height+"";return{c(){e=R(o),n=R(" × "),i=R(s)},m(t,o){x(t,e,o),x(t,n,o),x(t,i,o)},p(t,n){1&n&&o!==(o=t[0].properties.width+"")&&I(e,o),1&n&&s!==(s=t[0].properties.height+"")&&I(i,s)},d(t){t&&k(e),t&&k(n),t&&k(i)}}}function Zt(t){let e,n,i=t[0]&&Kt(t);return{c(){i&&i.c(),e=L()},m(t,o){i&&i.m(t,o),x(t,e,o),n=!0},p(t,[n]){t[0]?i?(i.p(t,n),1&n&&lt(i,1)):(i=Kt(t),i.c(),lt(i,1),i.m(e.parentNode,e)):i&&(rt(),ct(i,1,1,(()=>{i=null})),at())},i(t){n||(lt(i),n=!0)},o(t){ct(i),n=!1},d(t){i&&i.d(t),t&&k(e)}}}function te(t,e,n){let{image:i=null}=e,{i18n:o={}}=e,s=Ct();return t.$$set=t=>{"image"in t&&n(0,i=t.image),"i18n"in t&&n(1,o=t.i18n)},[i,o,s,function(t){i=t,n(0,i)}]}class ee extends yt{constructor(t){super(),vt(this,t,te,Zt,a,{image:0,i18n:1})}}const{window:ne}=ht;function ie(t){let e,n,i,o,r,a,l,c,u,d,h,p;return{c(){e=_("div"),n=_("div"),i=_("div"),o=S(),r=_("div"),a=S(),l=_("div"),c=S(),u=_("div"),d=_("div"),H(i,"class","image-container prev svelte-kd16fp"),H(r,"class","image-container current svelte-kd16fp"),H(l,"class","image-container next svelte-kd16fp"),H(n,"class","image-viewer-window svelte-kd16fp"),T(n,"height",t[7]+"px"),H(d,"class","icon-wrapper"),H(u,"class","btn-round svelte-kd16fp"),H(e,"class","image-viewer svelte-kd16fp")},m(s,f){x(s,e,f),y(e,n),y(n,i),t[28](i),y(n,o),y(n,r),t[29](r),y(n,a),y(n,l),t[30](l),t[31](n),y(e,c),y(e,u),y(u,d),d.innerHTML=qt,t[32](e),h||(p=[E(n,"touchstart",t[16](t[8])),E(n,"touchmove",t[16](t[14])),E(n,"touchend",t[16](t[15])),E(n,"touchcancel",t[16](t[15])),E(u,"click",t[17])],h=!0)},p(t,e){128&e[0]&&T(n,"height",t[7]+"px")},d(n){n&&k(e),t[28](null),t[29](null),t[30](null),t[31](null),t[32](null),h=!1,s(p)}}}function oe(e){let n,i,o;J(e[27]);let s=e[0]&&ie(e);return{c(){s&&s.c(),n=L()},m(t,r){s&&s.m(t,r),x(t,n,r),i||(o=E(ne,"resize",e[27]),i=!0)},p(t,e){t[0]?s?s.p(t,e):(s=ie(t),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:t,o:t,d(t){s&&s.d(t),t&&k(n),i=!1,o()}}}function se(t,n,i){let o,s,r,a,l;const{disableScroll:c,enableScroll:u}=function(){let t,e,n;return{disableScroll:()=>{t=window.scrollY,e=document.body.style.position,n=document.body.style.overflow,document.body.style.position="fixed",document.body.style.top=`-${t}px`,document.body.style.overflow="hidden"},enableScroll:()=>{document.body.style.position=e||"",document.body.style.top="",document.body.style.overflow=n||"",window.scrollTo(0,t)}}}(),p=D();let f,g,m,w,v,y,b,{currImage:$=null}=n,{nextImage:x=null}=n,{prevImage:k=null}=n,{isVisible:_=!1}=n,{i18n:R}=n,S=!1;const L=()=>{k?(m.replaceChildren(),new ee({target:m,props:{image:k,i18n:R}})):k||m.replaceChildren(),x?(v.replaceChildren(),new ee({target:v,props:{image:x,i18n:R}})):x||v.replaceChildren()};let E,H;V((()=>(c(),new ee({target:w,props:{image:$,i18n:R}}),L(),()=>{u()})));const I=Jt(0,{duration:250,easing:Yt});d(t,I,(t=>i(26,l=t)));const T=Jt(0,{duration:250,easing:Yt});d(t,T,(t=>i(25,a=t)));const N=Jt(1,{duration:75,easing:e});d(t,N,(t=>i(22,o=t)));const C=Jt(0,{duration:1,easing:e});d(t,C,(t=>i(24,r=t)));const A=Jt(0,{duration:1,easing:e});d(t,A,(t=>i(23,s=t)));let P=!1;const M=t=>Math.hypot(t.touches[0].clientX-t.touches[1].clientX,t.touches[0].clientY-t.touches[1].clientY);let z=null;const j=()=>{z=0,h(N,o=1,o)};let q=null;const B=()=>{h(C,r=1,r),h(A,s=1,s),q=null};let O;const F=()=>{p("viewer_hidden")};return t.$$set=t=>{"currImage"in t&&i(18,$=t.currImage),"nextImage"in t&&i(19,x=t.nextImage),"prevImage"in t&&i(20,k=t.prevImage),"isVisible"in t&&i(0,_=t.isVisible),"i18n"in t&&i(21,R=t.i18n)},t.$$.update=()=>{if(130023550&t.$$.dirty[0]&&(g&&i(2,g.style.transform=`translate3d(${l}px, 0, 0)`,g),f&&i(1,f.style.transform=`translate3d(0, ${a}px, 0)`,f),m&&v&&(i(3,m.style.transform=`translate3d(-${y}px, 0, 0)`,m),i(5,v.style.transform=`translate3d(${y}px, 0, 0)`,v)),w)){const t=o>1?1e5:"auto",e=w.querySelector(".image-wrapper").style;e.setProperty("transform",`translate3d(${r}px, ${s}px, 0) scale(${o})`),e.setProperty("z-index",t)}},[_,f,g,m,w,v,y,b,t=>{E=t.changedTouches[0].clientX,H=t.changedTouches[0].clientY},I,T,N,C,A,t=>{if(P||S)return;const e=t.changedTouches[0].clientX,n=t.changedTouches[0].clientY,i=Math.abs(e-E);if(Math.abs(n-H)>i){if(n>H&&o<=1){h(T,a=n-H,a)}}else{h(I,l=e-E,l)}},async t=>{if(S)return;const e=t.changedTouches[0].clientX,n=t.changedTouches[0].clientY,i=Math.abs(n-H),o=Math.abs(e-E);if(i>b/5?(P=!0,await T.set(b),F(),P=!1):h(T,a=0,a),o>y/12){if(j(),B(),E=0,P=!0,x&&l<0){p("next"),await I.set(-1*y,{duration:175}),P=!1;const t=[v.querySelector(".image-wrapper").cloneNode(!0),v.querySelector(".image-details").cloneNode(!0)];w.replaceChildren(...v.childNodes),v.replaceChildren(...t),L()}else if(k&&l>0){p("previous"),await I.set(y,{duration:175}),P=!1;const t=[m.querySelector(".image-wrapper").cloneNode(!0),m.querySelector(".image-details").cloneNode(!0)];w.replaceChildren(...m.childNodes),m.replaceChildren(...t),L()}else await I.set(0),P=!1;await I.set(0,{duration:0,easing:null}),P=!1}else h(I,l=0,l),j(),B()},t=>e=>{var n,i;e.touches.length>1?(O&&clearTimeout(O),e.preventDefault(),S=!0,(t=>{if(!z)return void(z=M(t));const e=M(t)-z;if(Math.abs(e)<2)return;const n=e>0?"zoomIn":e<0?"zoomOut":"none";z=M(t);let i=o;"zoomIn"===n?i+=.3:"zoomOut"===n&&(i-=.4),h(N,o=Math.max(i,1),o)})(e)):S||!(o>1)||(n=w.querySelector("img"),(i=n.getBoundingClientRect()).top>=10||i.left>=10||i.bottom<=(window.innerHeight||document.documentElement.clientHeight)-10||i.right<=(window.innerWidth||document.documentElement.clientWidth)-10)?S||t(e):(t=>{const e={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY};if(!q)return q=e;h(C,r+=e.x-q.x,r),h(A,s+=e.y-q.y,s),q=e})(e),"touchend"!==e.type&&"touchcancel"!==e.type||(O=setTimeout((()=>S=!1),100),z=null,q=null)},F,$,x,k,R,o,s,r,a,l,function(){i(6,y=ne.innerWidth),i(7,b=ne.innerHeight)},function(t){W[t?"unshift":"push"]((()=>{m=t,i(3,m),i(2,g),i(26,l),i(1,f),i(25,a),i(5,v),i(6,y),i(4,w),i(22,o),i(24,r),i(23,s)}))},function(t){W[t?"unshift":"push"]((()=>{w=t,i(4,w)}))},function(t){W[t?"unshift":"push"]((()=>{v=t,i(5,v),i(2,g),i(26,l),i(1,f),i(25,a),i(3,m),i(6,y),i(4,w),i(22,o),i(24,r),i(23,s)}))},function(t){W[t?"unshift":"push"]((()=>{g=t,i(2,g),i(26,l),i(1,f),i(25,a),i(3,m),i(5,v),i(6,y),i(4,w),i(22,o),i(24,r),i(23,s)}))},function(t){W[t?"unshift":"push"]((()=>{f=t,i(1,f),i(2,g),i(26,l),i(25,a),i(3,m),i(5,v),i(6,y),i(4,w),i(22,o),i(24,r),i(23,s)}))}]}class re extends yt{constructor(t){super(),vt(this,t,se,oe,a,{currImage:18,nextImage:19,prevImage:20,isVisible:0,i18n:21},null,[-1,-1])}}function ae(t,{delay:n=0,duration:i=400,easing:o=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:i,easing:o,css:t=>"opacity: "+t*s}}function le(t){let e,n,i,o,s,r,a,l;function c(t,e){return"bad-results"===t[1]?ue:"search-elsewhere"===t[1]?ce:void 0}let u=c(t),d=u&&u(t),h=t[6]&&t[0]&&de(t);return{c(){e=_("div"),n=_("div"),i=_("div"),i.innerHTML='<img class="theme--dark svelte-huit18" src="https://cdn.search.brave.com/serp/v1/static/img/1588b881ec94d6f18b4fdfb8938877392f944fa807caf0f4796115a03d5d8185-graphic-alt-results-dark.svg" alt=""/> \n        <img class="theme--light svelte-huit18" src="https://cdn.search.brave.com/serp/v1/static/img/d71adfde6449b703ffac8da3044a26944e10e850162bc5c0786f70a66e8c7315-graphic-alt-results-light.svg" alt=""/>',o=S(),s=_("div"),d&&d.c(),r=S(),h&&h.c(),H(i,"id","snippet-thumb"),H(i,"class","svelte-huit18"),H(s,"id","desc"),H(s,"class","svelte-huit18"),H(n,"class","flex-hcenter"),H(e,"class","panel svelte-huit18")},m(t,a){x(t,e,a),y(e,n),y(n,i),y(n,o),y(n,s),d&&d.m(s,null),y(e,r),h&&h.m(e,null),l=!0},p(t,n){u===(u=c(t))&&d?d.p(t,n):(d&&d.d(1),d=u&&u(t),d&&(d.c(),d.m(s,null))),t[6]&&t[0]?h?h.p(t,n):(h=de(t),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i(t){l||(a&&a.end(1),l=!0)},o(t){a=dt(e,ae,{}),l=!1},d(t){t&&k(e),d&&d.d(),h&&h.d(),t&&a&&a.end()}}}function ce(t){let e,n,i=t[3]["bad-results-for-query-{query}"].replace("{query}",Nt(t[2]))+"";return{c(){e=new C,n=L(),e.a=n},m(t,o){e.m(i,t,o),x(t,n,o)},p(t,n){12&n&&i!==(i=t[3]["bad-results-for-query-{query}"].replace("{query}",Nt(t[2]))+"")&&e.p(i)},d(t){t&&k(n),t&&e.d()}}}function ue(t){let e,n,i,o,s,r,a,l,c,u,d,h=t[3]["bad-results-header"]+"",p=Nt(t[2])+"",f=t[3]["Try more general keywords"]+"",g=t[3]["Try fewer keywords"]+"";return{c(){e=R(h),n=S(),i=_("strong"),o=R(p),s=S(),r=_("ul"),a=_("li"),l=R(f),c=S(),u=_("li"),d=R(g),H(r,"class","svelte-huit18")},m(t,h){x(t,e,h),x(t,n,h),x(t,i,h),y(i,o),x(t,s,h),x(t,r,h),y(r,a),y(a,l),y(r,c),y(r,u),y(u,d)},p(t,n){8&n&&h!==(h=t[3]["bad-results-header"]+"")&&I(e,h),4&n&&p!==(p=Nt(t[2])+"")&&I(o,p),8&n&&f!==(f=t[3]["Try more general keywords"]+"")&&I(l,f),8&n&&g!==(g=t[3]["Try fewer keywords"]+"")&&I(d,g)},d(t){t&&k(e),t&&k(n),t&&k(i),t&&k(s),t&&k(r)}}}function de(t){let e,n,i,o,r,a,l,c,u,d,h,p,f,g,m,w,v,b=t[3]["Enable Google Fallback Mixing"]+"",$=t[3]["serp-fallback-cta-desc"]+"",L=t[3]["Learn more"]+"",T="search-elsewhere"!==t[1]&&he(t);return{c(){e=_("div"),n=_("div"),i=_("label"),o=_("input"),r=S(),a=_("i"),l=S(),c=R(b),u=S(),d=_("p"),h=R($),p=S(),f=_("a"),g=R(L),m=S(),T&&T.c(),H(o,"type","checkbox"),H(a,"class","form-icon"),H(i,"class","form-switch"),H(n,"class","form-group"),H(f,"class","btn--text svelte-huit18"),H(f,"href","/help/google-fallback"),H(d,"class","text-sm"),H(e,"id","fallbackPermission"),H(e,"class","svelte-huit18")},m(s,b){x(s,e,b),y(e,n),y(n,i),y(i,o),o.checked=t[4],y(i,r),y(i,a),y(i,l),y(i,c),y(e,u),y(e,d),y(d,h),y(d,p),y(d,f),y(f,g),y(d,m),T&&T.m(d,null),w||(v=[E(o,"change",t[10]),E(o,"click",t[7])],w=!0)},p(t,e){16&e&&(o.checked=t[4]),8&e&&b!==(b=t[3]["Enable Google Fallback Mixing"]+"")&&I(c,b),8&e&&$!==($=t[3]["serp-fallback-cta-desc"]+"")&&I(h,$),8&e&&L!==(L=t[3]["Learn more"]+"")&&I(g,L),"search-elsewhere"!==t[1]?T?T.p(t,e):(T=he(t),T.c(),T.m(d,null)):T&&(T.d(1),T=null)},d(t){t&&k(e),T&&T.d(),w=!1,s(v)}}}function he(t){let e,n,i,o,s=t[3].Dismiss+"";return{c(){e=_("button"),n=R(s),H(e,"id","dismissPermission"),H(e,"class","ml-10 btn--text svelte-huit18")},m(s,r){x(s,e,r),y(e,n),i||(o=E(e,"click",t[8]),i=!0)},p(t,e){8&e&&s!==(s=t[3].Dismiss+"")&&I(n,s)},d(t){t&&k(e),i=!1,o()}}}function pe(t){let e,n,i=t[5]&&le(t);return{c(){i&&i.c(),e=L()},m(t,o){i&&i.m(t,o),x(t,e,o),n=!0},p(t,[n]){t[5]?i?(i.p(t,n),32&n&&lt(i,1)):(i=le(t),i.c(),lt(i,1),i.m(e.parentNode,e)):i&&(rt(),ct(i,1,1,(()=>{i=null})),at())},i(t){n||(lt(i),n=!0)},o(t){ct(i),n=!1},d(t){i&&i.d(t),t&&k(e)}}}function fe(t,e,n){let{isFallbackAvailable:i}=e,{isBrave:o}=e,{reason:s}=e,{query:r}=e,{i18n:a}=e,l="1"===Ht().fallback,c=!0,u=parseInt(localStorage.getItem("app.fallbackPermissionDismissCount"))||0,d=o&&u<3&&!l;return V((()=>{c&&d&&i&&window.dispatchEvent(new Event("GmixShown"))})),t.$$set=t=>{"isFallbackAvailable"in t&&n(0,i=t.isFallbackAvailable),"isBrave"in t&&n(9,o=t.isBrave),"reason"in t&&n(1,s=t.reason),"query"in t&&n(2,r=t.query),"i18n"in t&&n(3,a=t.i18n)},[i,s,r,a,l,c,d,function(){l?("undefined"!=typeof window&&window.dispatchEvent(new Event("GmixDisabled")),It("fallback",0)):("undefined"!=typeof window&&window.dispatchEvent(new Event("GmixEnabled")),It("fallback",1)),location.reload()},function(){u+=1,localStorage.setItem("app.fallbackPermissionDismissCount",u),n(5,c=!1),n(6,d=!1),window.dispatchEvent(new Event("GmixDismissed"))},o,function(){l=this.checked,n(4,l)}]}class ge extends yt{constructor(t){super(),vt(this,t,fe,pe,a,{isFallbackAvailable:0,isBrave:9,reason:1,query:2,i18n:3})}}const me=Ut(window.location.href),we=history.pushState,ve=history.replaceState;function ye(){me.set(window.location.href)}history.pushState=function(){we.apply(this,arguments),ye()},history.replaceState=function(){ve.apply(this,arguments),ye()},window.addEventListener("popstate",ye),window.addEventListener("hashchange",ye);var be={subscribe:function(e,n,i){const o=!Array.isArray(e),a=o?[e]:e,l=n.length<2;return c=e=>{let i=!1;const c=[];let d=0,h=t;const p=()=>{if(d)return;h();const i=n(o?c[0]:c,e);l?e(i):h=r(i)?i:t},f=a.map(((t,e)=>u(t,(t=>{c[e]=t,d&=~(1<<e),i&&p()}),(()=>{d|=1<<e}))));return i=!0,p(),function(){s(f),h()}},{subscribe:Ut(i,c).subscribe};var c}(me,(t=>new URL(t))).subscribe,reset:()=>history.replaceState({},null,"#"),updateHashValue:t=>history.replaceState({},null,`#${t}`),setValue:(t,e)=>{const n=new URLSearchParams(window.location.search);n.set(t,e),history.pushState({},"",`?${n.toString()}`)},setValues:t=>{const e=new URLSearchParams(window.location.search);for(let[n,i]of t)e.set(n,i);history.pushState({},"",`?${e.toString()}`)},set:({add:t=[],remove:e=[]})=>{const n=new URLSearchParams(window.location.search);for(let[e,i]of t)n.set(e,i);for(const t of e)n.delete(t);history.pushState({},"",`?${n.toString()}`)},getValue:(t,e)=>{const n=new URLSearchParams(window.location.search);return n.has(t)?n.get(t):e}};const{window:$e}=ht;function xe(t,e,n){const i=t.slice();return i[25]=e[n],i[27]=n,i}function ke(t){let e,n,i,o,s;return n=new ge({props:{reason:"bad-results",isFallbackAvailable:!1,query:t[1],i18n:t[0]}}),{c(){e=_("div"),ft(n.$$.fragment),i=S(),o=_("p"),H(e,"class","container-80 svelte-173fezi"),H(e,"id","no-results")},m(t,r){x(t,e,r),gt(n,e,null),y(e,i),y(e,o),s=!0},p(t,e){const i={};2&e&&(i.query=t[1]),1&e&&(i.i18n=t[0]),n.$set(i)},i(t){s||(lt(n.$$.fragment,t),s=!0)},o(t){ct(n.$$.fragment,t),s=!1},d(t){t&&k(e),mt(n)}}}function _e(t){let e,n,i=t[5].boxes,o=[];for(let e=0;e<i.length;e+=1)o[e]=Re(xe(t,i,e));const s=t=>ct(o[t],1,1,(()=>{o[t]=null}));return{c(){e=_("div");for(let t=0;t<o.length;t+=1)o[t].c();H(e,"class","justified svelte-173fezi"),T(e,"width",t[2].containerWidth)},m(t,i){x(t,e,i);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,r){if(6256&r){let n;for(i=t[5].boxes,n=0;n<i.length;n+=1){const s=xe(t,i,n);o[n]?(o[n].p(s,r),lt(o[n],1)):(o[n]=Re(s),o[n].c(),lt(o[n],1),o[n].m(e,null))}for(rt(),n=i.length;n<o.length;n+=1)s(n);at()}(!n||4&r)&&T(e,"width",t[2].containerWidth)},i(t){if(!n){for(let t=0;t<i.length;t+=1)lt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)ct(o[t]);n=!1},d(t){t&&k(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(o,t)}}}function Re(t){let e,i,o,s,r,a,l,c,u,d,h,p,f,g,m,w=t[4][t[27]].title+"",v=t[4][t[27]].source+"";const b=[t[4][t[27]].thumbnail,{width:t[4][t[27]].properties.width},{height:t[4][t[27]].properties.height},{selected:t[27]===t[6]},{idx:t[27]}];let $={};for(let t=0;t<b.length;t+=1)$=n($,b[t]);function L(){return t[16](t[27])}return i=new Et({props:$}),{c(){e=_("div"),ft(i.$$.fragment),o=S(),s=_("a"),r=_("span"),a=R(w),l=S(),c=_("span"),u=R(v),h=S(),H(r,"class","img-title text-ellipsis svelte-173fezi"),H(c,"class","img-source text-ellipsis svelte-173fezi"),H(s,"href",d=t[4][t[27]].url),H(s,"class","img-url svelte-173fezi"),H(e,"class","box svelte-173fezi"),H(e,"style",p=t[11](t[25]))},m(t,n){x(t,e,n),gt(i,e,null),y(e,o),y(e,s),y(s,r),y(r,a),y(s,l),y(s,c),y(c,u),y(e,h),f=!0,g||(m=E(e,"click",L),g=!0)},p(n,o){t=n;const r=80&o?function(t,e){const n={},i={},o={$$scope:1};let s=t.length;for(;s--;){const r=t[s],a=e[s];if(a){for(const t in r)t in a||(i[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[s]=a}else for(const t in r)o[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}(b,[16&o&&(l=t[4][t[27]].thumbnail,"object"==typeof l&&null!==l?l:{}),16&o&&{width:t[4][t[27]].properties.width},16&o&&{height:t[4][t[27]].properties.height},64&o&&{selected:t[27]===t[6]},b[4]]):{};var l;i.$set(r),(!f||16&o)&&w!==(w=t[4][t[27]].title+"")&&I(a,w),(!f||16&o)&&v!==(v=t[4][t[27]].source+"")&&I(u,v),(!f||16&o&&d!==(d=t[4][t[27]].url))&&H(s,"href",d),(!f||32&o&&p!==(p=t[11](t[25])))&&H(e,"style",p)},i(t){f||(lt(i.$$.fragment,t),f=!0)},o(t){ct(i.$$.fragment,t),f=!1},d(t){t&&k(e),mt(i),g=!1,m()}}}function Se(t){let e,n,i,o;const s=[Ee,Le],r=[];return e=function(t,e){return t[10]?0:1}(t),n=r[e]=s[e](t),{c(){n.c(),i=L()},m(t,n){r[e].m(t,n),x(t,i,n),o=!0},p(t,e){n.p(t,e)},i(t){o||(lt(n),o=!0)},o(t){ct(n),o=!1},d(t){r[e].d(t),t&&k(i)}}}function Le(t){let e,n,i;function o(e){t[17](e)}let s={top:t[9],isVisible:t[8],i18n:t[0]};return void 0!==t[7]&&(s.image=t[7]),e=new Ft({props:s}),W.push((()=>pt(e,"image",o))),e.$on("viewer_hidden",t[12]),e.$on("previous",t[13]),e.$on("next",t[14]),{c(){ft(e.$$.fragment)},m(t,n){gt(e,t,n),i=!0},p(t,i){const o={};512&i&&(o.top=t[9]),256&i&&(o.isVisible=t[8]),1&i&&(o.i18n=t[0]),!n&&128&i&&(n=!0,o.image=t[7],K((()=>n=!1))),e.$set(o)},i(t){i||(lt(e.$$.fragment,t),i=!0)},o(t){ct(e.$$.fragment,t),i=!1},d(t){mt(e,t)}}}function Ee(t){let e,n;return e=new re({props:{isVisible:t[8],currImage:t[7],prevImage:t[4][t[6]-1],nextImage:t[4][t[6]+1],i18n:t[0]}}),e.$on("viewer_hidden",t[12]),e.$on("previous",t[13]),e.$on("next",t[14]),{c(){ft(e.$$.fragment)},m(t,i){gt(e,t,i),n=!0},p(t,n){const i={};256&n&&(i.isVisible=t[8]),128&n&&(i.currImage=t[7]),80&n&&(i.prevImage=t[4][t[6]-1]),80&n&&(i.nextImage=t[4][t[6]+1]),1&n&&(i.i18n=t[0]),e.$set(i)},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){ct(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function He(t){let e,n,i,o,s,r,a,l,c=!0===t[3]&&0===t[4].length&&ke(t),u=t[5]&&_e(t),d=t[8]&&Se(t);return{c(){e=_("div"),c&&c.c(),n=S(),u&&u.c(),i=S(),d&&d.c(),o=S(),s=_("span"),H(e,"id","img-holder"),T(s,"display","none"),H(s,"class","is-active svelte-173fezi")},m(h,p){x(h,e,p),c&&c.m(e,null),y(e,n),u&&u.m(e,null),x(h,i,p),d&&d.m(h,p),x(h,o,p),x(h,s,p),r=!0,a||(l=E($e,"keydown",t[15]),a=!0)},p(t,[i]){!0===t[3]&&0===t[4].length?c?(c.p(t,i),24&i&&lt(c,1)):(c=ke(t),c.c(),lt(c,1),c.m(e,n)):c&&(rt(),ct(c,1,1,(()=>{c=null})),at()),t[5]?u?(u.p(t,i),32&i&&lt(u,1)):(u=_e(t),u.c(),lt(u,1),u.m(e,null)):u&&(rt(),ct(u,1,1,(()=>{u=null})),at()),t[8]?d?(d.p(t,i),256&i&&lt(d,1)):(d=Se(t),d.c(),lt(d,1),d.m(o.parentNode,o)):d&&(rt(),ct(d,1,1,(()=>{d=null})),at())},i(t){r||(lt(c),lt(u),lt(d),r=!0)},o(t){ct(c),ct(u),ct(d),r=!1},d(t){t&&k(e),c&&c.d(),u&&u.d(),t&&k(i),d&&d.d(t),t&&k(o),t&&k(s),a=!1,l()}}}function Ie({top:t,smooth:e}){let n={left:0,top:t};!0===e&&(n.behavior="smooth"),window.scrollTo(n)}function Te(t,e,n){let i;d(t,be,(t=>n(19,i=t)));let{i18n:o}=e;const{is_mobile:s,q:r}=JSON.parse(document.getElementById("js-imgtab").getAttribute("data")),a=document.getElementById("searchbox");let l,c,u,h=r,p={containerWidth:1e3,targetRowHeight:s?120:160,boxSpacing:{horizontal:10,vertical:60}},f=!1,g=[],m=-1,w=!1,v=0;const y=()=>{const t=document.getElementsByClassName("is-active");for(let e of t)e.classList.remove("is-active")},b=()=>{n(8,w=!1),document.body.classList.remove("noscroll"),y()},$=()=>{be.reset(),b(),n(6,m=-1),n(7,u=void 0)},x=()=>{0===m||m>0&&(n(6,m-=1),n(7,u=g[m]),be.updateHashValue(m))},k=()=>{m===g.length-1||m<g.length-1&&(n(6,m+=1),n(7,u=g[m]),be.updateHashValue(m))},_=(t,e=!0)=>{const i=document.getElementsByClassName("box")[t];if(i.classList.contains("is-active"))return i.classList.remove("is-active"),void n(8,w=!1);if(y(),i.classList.add("is-active"),!s){let t=i.offsetTop,o=+i.style.height.split("px")[0];Ie({top:t+60,smooth:e}),n(9,v=t+200+30+o)}n(6,m=t),n(7,u=g[t]),n(8,w=!0)};V((async()=>{const t=new URLSearchParams(window.location.search),e=await fetch(`/api/images?${t.toString()}`),i=await e.json();n(1,h=i.query.original),n(4,g=i.results),n(3,f=!0),l=g.map((t=>t.thumbnail));const o=document.getElementById("img-holder");n(2,p.containerWidth=o.clientWidth-5,p),n(5,c=_t(l,p))})),O((()=>{try{const t=parseInt(i.hash.replace("#",""));i.hash&&t>=0&&g.length>t&&m!==t?(n(6,m=t),_(m)):isNaN(t)&&b()}catch(t){console.log(t)}}));return t.$$set=t=>{"i18n"in t&&n(0,o=t.i18n)},[o,h,p,f,g,c,m,u,w,v,s,t=>`width: ${t.width}px; height: ${t.height}px; margin-right: 5px; margin-left: 5px; margin-bottom: 60px;`,$,x,k,t=>{if(a===document.activeElement)return;const e=t.key;if("ArrowRight"===e?k():"ArrowLeft"===e?x():"Enter"===e&&(w?(n(8,w=!1),y()):(n(8,w=!1),_(m)),be.updateHashValue(m)),"ArrowRight"===e||"ArrowLeft"===e){let t=document.getElementsByClassName("box")[m].offsetTop-window.innerHeight+500;w?w&&_(m,!1):Ie({top:t})}},t=>{m===t?$():be.updateHashValue(t)},function(t){u=t,n(7,u)}]}const Ne=JSON.parse(document.getElementById("js-shared").getAttribute("data")),Ce=JSON.parse(document.getElementById("js-imgtab").getAttribute("data")),Ae={...Ne.i18n,...Ce.i18n};return new class extends yt{constructor(t){super(),vt(this,t,Te,He,a,{i18n:0})}}({target:document.getElementById("img-results"),props:{i18n:Ae}})}();
